import{b as m,u as x,S as g,r as l,e as u,j as e}from"./index-CwYS-J06.js";const b=()=>{const t=m(),{user:a}=x(),n=g.SYSTEM_ADMIN,[o,i]=l.useState([]),[d,r]=l.useState(!0);l.useEffect(()=>{!a||!u(n,a==null?void 0:a.securityLevel)?(alert("Access denied. Requires SYSTEM ADMIN privileges."),t("/moe/dashboard",{replace:!0})):(r(!0),api.get("/users").then(s=>{i(s.data),r(!1)}).catch(s=>{console.error("Error fetching users:",s),alert("Failed to load user records."),r(!1)}))},[a,t]);const c=()=>{t("/moe/add-user")};return d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"w-4/5 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"50%"}})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 relative",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white shadow-md p-4 flex items-center justify-between border-b border-gray-200",children:[e.jsx("button",{onClick:()=>t("/moe/dashboard"),className:"text-gray-800 hover:text-gray-600","aria-label":"Go back",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"User Management"}),e.jsx("div",{className:"w-6"})]}),e.jsx("div",{className:"mt-4 space-y-4",children:o.length===0?e.jsx("p",{className:"text-gray-500 text-center",children:"No users available."}):o.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex items-center hover:bg-gray-50 transition-colors",onClick:()=>t(`/moe/user-details/${s.id}`),children:[e.jsx("img",{src:s.icon||"/logos/user.png",alt:s.name,className:"w-12 h-12 mr-4 object-contain rounded-full",onError:h=>{h.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="gray"%3E%3Cpath d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/%3E%3C/svg%3E'}}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-bold text-gray-800",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.role})]})]},s.id))}),e.jsx("button",{onClick:c,className:"fixed bottom-4 right-4 bg-blue-600 text-white rounded-full p-4 shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Add user",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})})]})})};export{b as default};
