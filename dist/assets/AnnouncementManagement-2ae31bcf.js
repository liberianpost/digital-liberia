import{b as m,u,S as g,r,i as x,k as w,c as a,j as e}from"./index-31cf902e.js";const v=()=>{const n=m(),{user:s}=u(),o=g.SCHOOL_ADMIN,[l,c]=r.useState([]);r.useEffect(()=>{!s||!x(o,s==null?void 0:s.securityLevel)?(alert("Access denied. Requires SCHOOL ADMIN privileges."),n(-1)):w.get("/announcements").then(t=>c(t.data)).catch(t=>{console.error("Error fetching announcements:",t),alert("Failed to load announcements.")})},[s,n]);const i=()=>{n("/moe/add-announcement")},d=t=>{n("/moe/announcement-details",{state:{announcement:t}})};return a("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"bg-white text-black p-4 shadow-md border-b border-gray-200",children:e("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:a("div",{className:"flex items-center",children:[e("button",{onClick:()=>n(-1),className:"mr-4 text-black","aria-label":"Go back",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e("h1",{className:"text-xl font-bold",children:"Announcement Management"})]})})}),e("div",{className:"p-4 max-w-3xl mx-auto",children:l.length===0?e("p",{className:"text-gray-500 text-center",children:"No announcements available."}):e("ul",{className:"space-y-2",children:l.map((t,h)=>e("li",{onClick:()=>d(t),className:"bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow",children:a("div",{className:"flex items-center",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.379c.484 0 .951.214 1.29.585"})}),a("div",{children:[e("h3",{className:"text-lg font-bold",children:t.title}),e("p",{className:"text-sm text-gray-600",children:t.date}),e("p",{className:"text-gray-700",children:t.description})]})]})},h))})}),e("button",{onClick:i,className:"fixed bottom-4 right-4 bg-blue-600 text-white rounded-full p-3 shadow-lg hover:bg-blue-700",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})};export{v as default};
