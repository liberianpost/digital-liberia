{"version":3,"file":"SystemSettings-bcdd64dc.js","sources":["../../src/components/SystemSettings.jsx"],"sourcesContent":["import React from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '@context/AuthContext';\nimport { SecurityLevels } from '@utils/securityLevels';\nimport { getRoleName } from '@utils/auth';\nimport { hasPermission } from '@utils/auth';\n\nconst SystemSettings = () => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const securityLevel = location.state?.securityLevel || user?.securityLevel || SecurityLevels.STUDENT;\n\n  const checkAdminAccess = (action) => {\n    if (hasPermission(SecurityLevels.SYSTEM_ADMIN, securityLevel)) {\n      action();\n    } else {\n      alert('Access denied. Requires SYSTEM ADMIN privileges.');\n    }\n  };\n\n  const handleAppSettings = () => {\n    navigate('/app-settings');\n  };\n\n  const handleUserManagement = () => {\n    checkAdminAccess(() => navigate('/moe/user-management'));\n  };\n\n  const handleDatabaseManagement = () => {\n    checkAdminAccess(() => navigate('/moe/database-tools'));\n  };\n\n  const handleBackupSettings = () => {\n    checkAdminAccess(() => navigate('/backup-settings'));\n  };\n\n  const isAdminFeatureDisabled = !hasPermission(SecurityLevels.SYSTEM_ADMIN, securityLevel);\n\n  if (!user) {\n    navigate('/system', { replace: true });\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"bg-white text-black p-4 shadow-md border-b border-gray-200\">\n        <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n          <div className=\"flex items-center\">\n            <button\n              onClick={() => navigate(-1)}\n              className=\"mr-4 text-black\"\n              aria-label=\"Go back\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                />\n              </svg>\n            </button>\n            <div>\n              <h1 className=\"text-xl font-bold\">System Settings</h1>\n              <p className=\"text-sm text-gray-600\">\n                Security Level: {getRoleName(securityLevel) || 'Unknown Role'}\n              </p>\n            </div>\n          </div>\n          <button\n            onClick={() => {\n              logout();\n              navigate('/system', { replace: true });\n            }}\n            className=\"text-red-600 hover:text-red-800 flex items-center\"\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-5 w-5 mr-1\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n              />\n            </svg>\n            Logout\n          </button>\n        </div>\n      </div>\n\n      <div className=\"p-4 max-w-3xl mx-auto\">\n        <div\n          onClick={handleAppSettings}\n          className=\"bg-white rounded-lg shadow-md p-4 mb-4 cursor-pointer hover:shadow-lg transition-shadow\"\n        >\n          <div className=\"flex items-center\">\n            <div className=\"p-3 rounded-full bg-blue-100 text-blue-600\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c-.94 1.543.826 3.31 2.37 2.37a1.724 1.724 0 002.572 1.065c1.756-.426 1.756-2.924 0-3.35a1.724 1.724 0 00-1.065-2.572c-1.543-.94-3.31.826-2.37 2.37a1.724 1.724 0 001.066 2.573c.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c.94-1.543-.826-3.31-2.37-2.37a1.724 1.724 0 00-2.572 1.065z\"\n                />\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                />\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <h2 className=\"text-lg font-bold text-gray-800\">Application Settings</h2>\n              <p className=\"text-sm text-gray-600\">Configure application preferences</p>\n            </div>\n          </div>\n        </div>\n\n        <div\n          onClick={handleUserManagement}\n          className={`bg-white rounded-lg shadow-md p-4 mb-4 cursor-pointer transition-shadow ${\n            isAdminFeatureDisabled ? 'opacity-50 cursor-not-allowed' : 'hover:shadow-lg'\n          }`}\n        >\n          <div className=\"flex items-center\">\n            <div className=\"p-3 rounded-full bg-blue-100 text-blue-600\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n                />\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <h2 className=\"text-lg font-bold text-gray-800\">User Management</h2>\n              <p className=\"text-sm text-gray-600\">Manage system users and permissions</p>\n              {isAdminFeatureDisabled && (\n                <p className=\"text-red-500 text-xs mt-1\">Requires SYSTEM ADMIN access</p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div\n          onClick={handleDatabaseManagement}\n          className={`bg-white rounded-lg shadow-md p-4 mb-4 cursor-pointer transition-shadow ${\n            isAdminFeatureDisabled ? 'opacity-50 cursor-not-allowed' : 'hover:shadow-lg'\n          }`}\n        >\n          <div className=\"flex items-center\">\n            <div className=\"p-3 rounded-full bg-blue-100 text-blue-600\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4\"\n                />\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <h2 className=\"text-lg font-bold text-gray-800\">Database Management</h2>\n              <p className=\"text-sm text-gray-600\">Manage database settings</p>\n              {isAdminFeatureDisabled && (\n                <p className=\"text-red-500 text-xs mt-1\">Requires SYSTEM ADMIN access</p>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div\n          onClick={handleBackupSettings}\n          className={`bg-white rounded-lg shadow-md p-4 mb-4 cursor-pointer transition-shadow ${\n            isAdminFeatureDisabled ? 'opacity-50 cursor-not-allowed' : 'hover:shadow-lg'\n          }`}\n        >\n          <div className=\"flex items-center\">\n            <div className=\"p-3 rounded-full bg-blue-100 text-blue-600\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10\"\n                />\n              </svg>\n            </div>\n            <div className=\"ml-4\">\n              <h2 className=\"text-lg font-bold text-gray-800\">Backup & Restore</h2>\n              <p className=\"text-sm text-gray-600\">Configure backup settings</p>\n              {isAdminFeatureDisabled && (\n                <p className=\"text-red-500 text-xs mt-1\">Requires SYSTEM ADMIN access</p>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SystemSettings;\n"],"names":["SystemSettings","user","logout","useAuth","navigate","useNavigate","securityLevel","location","useLocation","state","SecurityLevels","STUDENT","checkAdminAccess","action","hasPermission","SYSTEM_ADMIN","alert","handleAppSettings","handleUserManagement","handleDatabaseManagement","handleBackupSettings","isAdminFeatureDisabled","jsxs","jsx","getRoleName","replace"],"mappings":"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"}