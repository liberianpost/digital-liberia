{"version":3,"file":"AddParent-00bae415.js","sources":["../../src/components/AddParent.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '@context/AuthContext';\nimport { SecurityLevels } from '@utils/securityLevels';\nimport { hasPermission } from '@utils/auth';\nimport api from '../api';\n\nconst AddParent = () => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const REQUIRED_SECURITY_LEVEL = SecurityLevels.SCHOOL_ADMIN;\n\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    address: '',\n    relationship: '',\n    children: []\n  });\n\n  useEffect(() => {\n    if (!user || !hasPermission(REQUIRED_SECURITY_LEVEL, user?.securityLevel)) {\n      alert('Access denied. Requires SCHOOL ADMIN privileges.');\n      navigate(-1);\n    }\n  }, [user, navigate]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await api.post('/parents', formData);\n      console.log('Parent data submitted:', formData);\n      navigate(-1);\n    } catch (error) {\n      console.error('Error submitting parent data:', error);\n      alert('Failed to save parent data. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Toolbar */}\n      <div className=\"bg-white text-black p-4 shadow-md border-b border-gray-200\">\n        <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n          <div className=\"flex items-center\">\n            <button\n              onClick={() => navigate(-1)}\n              className=\"mr-4 text-black\"\n              aria-label=\"Go back\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"\n                />\n              </svg>\n            </button>\n            <h1 className=\"text-xl font-bold\">Add Parent</h1>\n          </div>\n        </div>\n      </div>\n\n      {/* Form Content */}\n      <form onSubmit={handleSubmit} className=\"p-4 max-w-3xl mx-auto\">\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          {/* Parent Information Section */}\n          <div className=\"flex items-center mb-4\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-8 w-8 text-blue-600 mr-2\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n              />\n            </svg>\n            <h2 className=\"text-lg font-bold\">Parent Information</h2>\n          </div>\n\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Full Name</label>\n              <div className=\"mt-1 flex items-center border border-gray-300 rounded-md\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"h-5 w-5 text-gray-400 ml-2\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                  />\n                </svg>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleChange}\n                  required\n                  className=\"flex-1 p-2 border-none rounded-md focus:ring-2 focus:ring-blue-600\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Phone Number</label>\n              <div className=\"mt-1 flex items-center border border-gray-300 rounded-md\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"h-5 w-5 text-gray-400 ml-2\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n                  />\n                </svg>\n                <input\n                  type=\"tel\"\n                  name=\"phone\"\n                  value={formData.phone}\n                  onChange={handleChange}\n                  required\n                  className=\"flex-1 p-2 border-none rounded-md focus:ring-2 focus:ring-blue-600\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Email</label>\n              <div className=\"mt-1 flex items-center border border-gray-300 rounded-md\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  className=\"h-5 w-5 text-gray-400 ml-2\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n                  />\n                </svg>\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  className=\"flex-1 p-2 border-none rounded-md focus:ring-2 focus:ring-blue-600\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Relationship</label>\n              <select\n                name=\"relationship\"\n                value={formData.relationship}\n                onChange={handleChange}\n                className=\"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-600\"\n              >\n                <option value=\"\">Select Relationship</option>\n                <option value=\"Mother\">Mother</option>\n                <option value=\"Father\">Father</option>\n                <option value=\"Guardian\">Guardian</option>\n                <option value=\"Other\">Other</option>\n              </select>\n            </div>\n\n            <div className=\"sm:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700\">Address</label>\n              <textarea\n                name=\"address\"\n                value={formData.address}\n                onChange={handleChange}\n                rows={4}\n                className=\"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-600\"\n              />\n            </div>\n          </div>\n\n          <hr className=\"my-4\" />\n\n          {/* Children Information Section */}\n          <h2 className=\"text-lg font-bold mb-2\">Children Information</h2>\n          <p className=\"text-sm text-gray-600 mb-4\">Select the children this parent is responsible for</p>\n          <div className=\"bg-gray-100 rounded-md h-48 flex items-center justify-center\">\n            <p className=\"text-gray-500\">Children selection component would appear here</p>\n          </div>\n\n          {/* Submit Button */}\n          <div className=\"mt-4 flex justify-end\">\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-5 w-5 mr-2\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\"\n                />\n              </svg>\n              Save Parent\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default AddParent;\n"],"names":["AddParent","navigate","useNavigate","user","useAuth","REQUIRED_SECURITY_LEVEL","SecurityLevels","SCHOOL_ADMIN","formData","setFormData","useState","name","phone","email","address","relationship","children","useEffect","hasPermission","securityLevel","alert","handleChange","e","value","target","prev","jsxs","jsx","preventDefault","api","post","log","error"],"mappings":"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"}