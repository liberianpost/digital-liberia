import{u as d,b as m,S as h,r as b,e as o,j as e}from"./index-CwYS-J06.js";const u=()=>{const{user:t}=d(),a=m(),s=h.DATABASE_ADMIN;b.useEffect(()=>{(!t||!o(s,t==null?void 0:t.securityLevel))&&(alert("Access denied. Requires DATABASE ADMIN privileges."),a(-1))},[t,a]);const i=()=>{o(s,t==null?void 0:t.securityLevel)&&a("/moe/ministry-employee-management")},l=()=>{o(s,t==null?void 0:t.securityLevel)&&a("/moe/school-admin-management")},n=async()=>{if(o(s,t==null?void 0:t.securityLevel))try{await api.post("/database/backup"),alert("Database backup initiated successfully.")}catch(r){console.error("Error initiating backup:",r),alert("Failed to initiate database backup.")}},c=async()=>{if(o(s,t==null?void 0:t.securityLevel))try{await api.post("/database/restore"),alert("Database restore initiated successfully.")}catch(r){console.error("Error initiating restore:",r),alert("Failed to initiate database restore.")}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"bg-white text-black p-4 shadow-md border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>a(-1),className:"mr-4 text-black","aria-label":"Go back",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e.jsx("h1",{className:"text-xl font-bold",children:"Database Tools"})]})})}),e.jsxs("div",{className:"overflow-y-auto h-[calc(100vh-4rem)] p-4 max-w-3xl mx-auto",children:[e.jsx("div",{onClick:i,className:"bg-white rounded-lg shadow-md mb-4 border border-gray-300 cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("img",{src:"/logos/moe.png",alt:"Ministry of Education icon",className:"w-12 h-12 mx-auto object-contain"}),e.jsx("h2",{className:"mt-2 text-lg font-bold text-black",children:"Ministry of Education Management"}),e.jsx("p",{className:"mt-2 text-gray-600 text-sm",children:"Manage all ministry employees, add, delete, remove and suspend staff"})]})}),e.jsx("div",{onClick:l,className:"bg-white rounded-lg shadow-md mb-4 border border-gray-300 cursor-pointer hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("img",{src:"/logos/school.png",alt:"School Administrators icon",className:"w-12 h-12 mx-auto object-contain"}),e.jsx("h2",{className:"mt-2 text-lg font-bold text-black",children:"School Administrators Management"}),e.jsx("p",{className:"mt-2 text-gray-600 text-sm",children:"Manage school administrators by county, district and city"})]})}),e.jsx("h3",{className:"mt-6 text-base font-bold text-black",children:"Database Tools"}),e.jsx("button",{onClick:n,className:"w-full mt-4 py-3 px-4 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50 transition-colors text-center",children:"Backup Database"}),e.jsx("button",{onClick:c,className:"w-full mt-2 py-3 px-4 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50 transition-colors text-center",children:"Restore Database"})]})]})};export{u as default};
