import{u as g,S as u,d as v,e as x,a as e,j as t}from"./auth-3baab016.js";import{e as b,r as o}from"./react-2658b102.js";import"./mui-cb74fc87.js";const N=()=>{const a=b(),{user:r}=g(),n=u.SYSTEM_ADMIN,[i,d]=o.useState([]),[c,l]=o.useState(!0);o.useEffect(()=>{!r||!v(n,r==null?void 0:r.securityLevel)?(alert("Access denied. Requires SYSTEM ADMIN privileges."),a("/moe/dashboard",{replace:!0})):(l(!0),x.get("/users").then(s=>{d(s.data),l(!1)}).catch(s=>{console.error("Error fetching users:",s),alert("Failed to load user records."),l(!1)}))},[r,a]);const m=()=>{a("/moe/add-user")};return c?e("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e("div",{className:"w-4/5 bg-gray-200 rounded-full h-2",children:e("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"50%"}})})}):e("div",{className:"min-h-screen bg-gray-50 p-4 relative",children:t("div",{className:"max-w-4xl mx-auto",children:[t("div",{className:"bg-white shadow-md p-4 flex items-center justify-between border-b border-gray-200",children:[e("button",{onClick:()=>a("/moe/dashboard"),className:"text-gray-800 hover:text-gray-600","aria-label":"Go back",children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e("h1",{className:"text-xl font-bold text-gray-800",children:"User Management"}),e("div",{className:"w-6"})]}),e("div",{className:"mt-4 space-y-4",children:i.length===0?e("p",{className:"text-gray-500 text-center",children:"No users available."}):i.map(s=>t("div",{className:"bg-white rounded-lg shadow-md p-4 flex items-center hover:bg-gray-50 transition-colors",onClick:()=>a(`/moe/user-details/${s.id}`),children:[e("img",{src:s.icon||"/logos/user.png",alt:s.name,className:"w-12 h-12 mr-4 object-contain rounded-full",onError:h=>{h.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="gray"%3E%3Cpath d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/%3E%3C/svg%3E'}}),t("div",{children:[e("h2",{className:"text-base font-bold text-gray-800",children:s.name}),e("p",{className:"text-sm text-gray-600",children:s.role})]})]},s.id))}),e("button",{onClick:m,className:"fixed bottom-4 right-4 bg-blue-600 text-white rounded-full p-4 shadow-lg hover:bg-blue-700 transition-colors","aria-label":"Add user",children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})})]})})};export{N as default};
//# sourceMappingURL=UserManagement-6800303b.js.map
