import{D as a}from"./config-134c6f8e.js";const c={[e.STUDENT]:"/moe/student-profile",[e.PARENT]:"/moe/student-reports",[e.TEACHER]:"/moe/class-management",[e.SCHOOL_ADMIN]:"/moe/school-management",[e.MINISTRY_OFFICIAL]:"/moe/district-reports",[e.DATABASE_ADMIN]:"/moe/database-tools",[e.SYSTEM_ADMIN]:"/moe/system-settings"};function A(t){return c[t]||"/moe/dashboard"}function S(t){const s=t||e.STUDENT;return a.filter(n=>{const o=Object.values(e),r=o.indexOf(n.requiredLevel);return o.indexOf(s)>=r})}const e={STUDENT:"STUDENT",PARENT:"PARENT",TEACHER:"TEACHER",SCHOOL_ADMIN:"SCHOOL_ADMIN",MINISTRY_OFFICIAL:"MINISTRY_OFFICIAL",DATABASE_ADMIN:"DATABASE_ADMIN",SYSTEM_ADMIN:"SYSTEM_ADMIN"};function l(){return JSON.parse(localStorage.getItem("moeAuth")||"null")?.securityLevel||e.STUDENT}function I(t,s=l()){const n=Object.values(e),o=n.indexOf(t),r=n.indexOf(s);return console.log("hasPermission:",{requiredLevel:t,userLevel:s,hasAccess:r>=o}),r>=o}function T(t){return{[e.STUDENT]:"Student",[e.PARENT]:"Parent",[e.TEACHER]:"Teacher",[e.SCHOOL_ADMIN]:"School Admin",[e.MINISTRY_OFFICIAL]:"Ministry Official",[e.DATABASE_ADMIN]:"Database Admin",[e.SYSTEM_ADMIN]:"System Admin"}[t]||"Unknown Role"}function N(t,s){console.log("handleLoginSuccess:",t),localStorage.setItem("moeAuth",JSON.stringify(t));const n=A(t.securityLevel);s(n,{replace:!0})}export{e as S,S as a,T as b,I as c,A as g,N as h};
//# sourceMappingURL=utils-8847f3ba.js.map
