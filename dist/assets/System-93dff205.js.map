{"version":3,"file":"System-93dff205.js","sources":["../../src/components/System.jsx"],"sourcesContent":["import React, { useState, useEffect, Component } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '@context/AuthContext';\nimport { SecurityLevels } from '@utils/securityLevels';\nimport { handleLoginSuccess } from '@utils/auth';\n\n// Error Boundary Component\nclass ErrorBoundary extends Component {\n  state = { error: null };\n\n  static getDerivedStateFromError(error) {\n    console.error('ErrorBoundary caught:', error, error.stack);\n    return { error };\n  }\n\n  render() {\n    if (this.state.error) {\n      return (\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-100 text-gray-900\">\n          <div className=\"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center\">\n            <h1 className=\"text-2xl font-bold mb-4\">Something Went Wrong</h1>\n            <p className=\"text-red-600 mb-6\">{this.state.error.message || 'An unexpected error occurred'}</p>\n            <button\n              onClick={() => window.location.reload()}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n            >\n              Reload Page\n            </button>\n          </div>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\n// Navigation links\nconst navLinks = [\n  { label: 'Home', to: '/', color: 'bg-blue-500/80' },\n  { label: 'System', to: '/system', color: 'bg-green-500/80' },\n  { label: 'Digital Liberia', to: '/digital-liberia', color: 'bg-purple-500/80' },\n  { label: 'LibPay', to: '/libpay', color: 'bg-yellow-500/80' },\n  { label: 'Liberian Post', to: '/liberian-post', color: 'bg-pink-500/80' },\n];\n\n// Logos for carousel (with fallback)\nconst logos = [\n  { src: '/logos/liberianpost.png', alt: 'Liberian Post' },\n  { src: '/logos/digital.png', alt: 'Digital Liberia' },\n  { src: '/logos/libmusic.png', alt: 'LibMusic' },\n  { src: '/logos/libconnectsit.png', alt: 'LibConnect' },\n  { src: '/logos/libpaysit.png', alt: 'LibPay' },\n  { src: '/logos/seal-of-liberia.png', alt: 'Seal of Liberia' },\n  { src: '/logos/liberia.png', alt: 'Liberia' },\n];\n\n// Ministry data\nconst ministries = [\n  {\n    id: 'education',\n    name: 'Ministry of Education',\n    description: 'School management, student records, and educational resources',\n    icon: '/logos/moe.png',\n  },\n  {\n    id: 'health',\n    name: 'Ministry of Health',\n    description: 'Health records, vaccination data, and medical services',\n    icon: '/logos/moh.png',\n  },\n  {\n    id: 'finance',\n    name: 'Ministry of Finance',\n    description: 'Tax records, financial services, and economic data',\n    icon: '/logos/mof.png',\n  },\n  {\n    id: 'justice',\n    name: 'Ministry of Justice',\n    description: 'Legal documents, court records, and law enforcement',\n    icon: '/logos/moj.png',\n  },\n  {\n    id: 'transport',\n    name: 'Ministry of Transport',\n    description: 'Driver licenses, vehicle registration, and transport permits',\n    icon: '/logos/mot.png',\n  },\n  {\n    id: 'foreign',\n    name: 'Ministry of Foreign Affairs',\n    description: 'Passport services and international relations',\n    icon: '/logos/mofa.png',\n  },\n  {\n    id: 'agriculture',\n    name: 'Ministry of Agriculture',\n    description: 'Farming permits, agricultural data, and food security',\n    icon: '/logos/moa.png',\n  },\n  {\n    id: 'internal',\n    name: 'Ministry of Internal Affairs',\n    description: 'Citizen IDs, birth certificates, and local governance',\n    icon: '/logos/moia.png',\n  },\n  {\n    id: 'lands',\n    name: 'Ministry of Lands & Mines',\n    description: 'Land deeds, mining permits, and property records',\n    icon: '/logos/mol.png',\n  },\n  {\n    id: 'commerce',\n    name: 'Ministry of Commerce',\n    description: 'Business registration and trade licenses',\n    icon: '/logos/moc.png',\n  },\n  {\n    id: 'labour',\n    name: 'Ministry of Labour',\n    description: 'Employment records and worker rights',\n    icon: '/logos/moll.png',\n  },\n  {\n    id: 'youth',\n    name: 'Ministry of Youth & Sports',\n    description: 'Youth programs and sporting events',\n    icon: '/logos/moy.png',\n  },\n];\n\n// Quick access services\nconst quickAccessServices = [\n  { id: 'passport', name: 'Passport' },\n  { id: 'birth-certificate', name: 'Birth Certificate' },\n  { id: 'drivers-license', name: \"Driver's License\" },\n  { id: 'citizen-id', name: 'Citizen ID' },\n  { id: 'business-registration', name: 'Business Registration' },\n  { id: 'vehicle-registration', name: 'Vehicle Registration' },\n  { id: 'land-deed', name: 'Land Deed' },\n  { id: 'tax-services', name: 'Tax Services' },\n];\n\n// MoeLoginModal component\nconst MoeLoginModal = ({ onClose }) => {\n  const { login } = useAuth();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({ username: '', password: '' });\n  const [errors, setErrors] = useState({ username: '', password: '' });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n    if (errors[name]) {\n      setErrors((prev) => ({ ...prev, [name]: '' }));\n    }\n  };\n\n  const validateInputs = () => {\n    const newErrors = { username: '', password: '' };\n    let valid = true;\n\n    if (!formData.username.trim()) {\n      newErrors.username = 'Username is required';\n      valid = false;\n    }\n    if (!formData.password) {\n      newErrors.password = 'Password is required';\n      valid = false;\n    }\n\n    setErrors(newErrors);\n    return valid;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    if (!validateInputs()) return;\n\n    setLoading(true);\n    try {\n      const result = await login(formData, navigate);\n      if (!result.success) {\n        setError(result.error || 'Invalid username or password');\n      } else {\n        setShowMoeLogin(false); // Close modal on success\n      }\n    } catch (err) {\n      console.error('Login error:', err);\n      setError('Network error. Please check your connection.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg w-full max-w-md overflow-hidden shadow-xl\">\n        <div className=\"bg-blue-600 p-4 flex justify-between items-center\">\n          <h2 className=\"text-xl font-bold text-white\">Ministry of Education</h2>\n          <button\n            onClick={onClose}\n            className=\"text-white text-2xl hover:text-gray-200\"\n          >\n            &times;\n          </button>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"flex justify-center mb-6\">\n            <img\n              src=\"/logos/moe.png\"\n              alt=\"MOE Logo\"\n              className=\"w-20 h-20 object-contain\"\n              onError={(e) => {\n                console.error('Failed to load MOE logo');\n                e.target.src = 'https://via.placeholder.com/80?text=MOE';\n              }}\n            />\n          </div>\n          {error && (\n            <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-md text-sm\">\n              {error}\n            </div>\n          )}\n          <form onSubmit={handleSubmit}>\n            <div className=\"mb-4\">\n              <label className=\"block text-gray-900 mb-2 font-medium\">Username</label>\n              <input\n                type=\"text\"\n                name=\"username\"\n                value={formData.username}\n                onChange={handleChange}\n                className={`w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 ${\n                  errors.username ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"Enter your username\"\n                required\n                autoFocus\n              />\n              {errors.username && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.username}</p>\n              )}\n            </div>\n            <div className=\"mb-6\">\n              <label className=\"block text-gray-900 mb-2 font-medium\">Password</label>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={formData.password}\n                onChange={handleChange}\n                className={`w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 ${\n                  errors.password ? 'border-red-500' : 'border-gray-300'\n                }`}\n                placeholder=\"Enter your password\"\n                required\n              />\n              {errors.password && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.password}</p>\n              )}\n            </div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className={`w-full py-3 px-4 rounded-md text-white font-semibold ${\n                loading ? 'bg-blue-400' : 'bg-blue-600 hover:bg-blue-700'\n              } transition-colors flex items-center justify-center`}\n            >\n              {loading ? (\n                <>\n                  <svg\n                    className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      className=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      strokeWidth=\"4\"\n                    />\n                    <path\n                      className=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    />\n                  </svg>\n                  Processing...\n                </>\n              ) : (\n                'Login'\n              )}\n            </button>\n          </form>\n          <div className=\"mt-4 flex justify-center space-x-4 text-sm border-t border-gray-200 pt-4\">\n            <button\n              type=\"button\"\n              onClick={() => alert('Forgot password feature coming soon')}\n              className=\"text-blue-600 hover:text-blue-800 hover:underline font-medium\"\n            >\n              Forgot Password?\n            </button>\n            <span className=\"text-gray-400\">|</span>\n            <button\n              type=\"button\"\n              onClick={() => alert('Registration feature coming soon')}\n              className=\"text-blue-600 hover:text-blue-800 hover:underline font-medium\"\n            >\n              Create Account\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst System = () => {\n  const { user, loading, logout } = useAuth();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [activeLogo, setActiveLogo] = useState(0);\n  const [showMoeLogin, setShowMoeLogin] = useState(false);\n\n  // Log auth context for debugging\n  useEffect(() => {\n    console.log('System.jsx - Auth context:', { user, isAuthenticated: !!user, loading, location: location.pathname });\n  }, [user, loading, location.pathname]);\n\n  // Logo carousel\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setActiveLogo((prev) => (prev + 1) % logos.length);\n    }, 2000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Handle auth state\n  useEffect(() => {\n    if (loading) return;\n    const isLoggedIn = !!localStorage.getItem('moeAuth');\n    if (isLoggedIn && user && user.securityLevel) {\n      console.log('System.jsx - Navigating with user:', user);\n      const defaultRoute = getDefaultRouteForLevel(user.securityLevel);\n      if (location.pathname === '/system' || location.pathname === '/') {\n        navigate(defaultRoute, { replace: true });\n      }\n    } else if (!user && isLoggedIn) {\n      console.log('System.jsx - Invalid user in localStorage, clearing');\n      localStorage.removeItem('moeAuth');\n    }\n  }, [user, loading, navigate, location.pathname]);\n\n  const handleMinistryClick = (ministryId, e) => {\n    e.stopPropagation();\n    console.log('System.jsx - Ministry clicked:', ministryId);\n    if (ministryId === 'education') {\n      if (user) {\n        handleLoginSuccess(user, navigate);\n      } else {\n        setShowMoeLogin(true);\n      }\n    } else {\n      alert(`Services for ${ministries.find((m) => m.id === ministryId)?.name} are coming soon`);\n    }\n  };\n\n  const handleServiceClick = (serviceId, e) => {\n    e.stopPropagation();\n    console.log('System.jsx - Service clicked:', serviceId);\n    alert(`${serviceId.replace('-', ' ')} service will be available soon`);\n  };\n\n  const handleLogout = () => {\n    console.log('System.jsx - Logging out user:', user);\n    logout();\n    navigate('/system', { replace: true });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100 text-gray-900\">\n        <div className=\"flex items-center space-x-2\">\n          <svg\n            className=\"animate-spin h-8 w-8 text-gray-900\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n          >\n            <circle\n              className=\"opacity-25\"\n              cx=\"12\"\n              cy=\"12\"\n              r=\"10\"\n              stroke=\"currentColor\"\n              strokeWidth=\"4\"\n            />\n            <path\n              className=\"opacity-75\"\n              fill=\"currentColor\"\n              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            />\n          </svg>\n          <span>Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <ErrorBoundary>\n      <div className=\"relative min-h-screen w-full bg-gray-100 text-gray-900 font-inter overflow-x-hidden\">\n        <div className=\"fixed inset-0 bg-gray-100 -z-50\" />\n\n        {/* Logo Carousel */}\n        <div className=\"fixed inset-0 flex items-center justify-center z-10 pointer-events-none\">\n          <div className=\"relative w-full max-w-2xl mx-4 h-64 md:h-96 flex items-center justify-center\">\n            {logos.map((logo, index) => (\n              <div\n                key={index}\n                className={`absolute inset-0 flex items-center justify-center transition-opacity duration-1000 ${\n                  index === activeLogo ? 'opacity-100' : 'opacity-0'\n                }`}\n              >\n                <img\n                  src={logo.src}\n                  alt={logo.alt}\n                  className=\"max-w-full max-h-full object-contain\"\n                  onError={(e) => {\n                    console.error(`Failed to load logo: ${logo.src}`);\n                    e.target.src = `https://via.placeholder.com/200?text=${logo.alt}`;\n                  }}\n                />\n                <div className=\"absolute inset-0 bg-gray-200/5\" />\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Header */}\n        <header className=\"fixed top-0 left-0 w-full z-50\">\n          <div className=\"bg-gray-100/80 backdrop-blur-md border-b border-gray-300/30\">\n            <div className=\"flex items-center justify-center px-4 py-4 max-w-7xl mx-auto\">\n              <nav className=\"flex space-x-2 md:space-x-4 overflow-x-auto w-full justify-center\">\n                {navLinks.map((link) => (\n                  <div key={link.to} className={`flex-shrink-0 ${link.color} px-3 py-1 rounded-lg`}>\n                    <Link\n                      to={link.to}\n                      className={`text-sm md:text-base lg:text-lg font-bold transition-colors duration-300 ${\n                        location.pathname === link.to ? 'text-red-500' : 'text-gray-900 hover:text-blue-600'\n                      }`}\n                    >\n                      {link.label}\n                    </Link>\n                  </div>\n                ))}\n              </nav>\n            </div>\n            <div className=\"w-full bg-gradient-to-b from-gray-100 to-transparent overflow-x-auto\">\n              <div className=\"flex flex-nowrap px-4 space-x-4 w-max max-w-full mx-auto py-3\">\n                {logos.map((logo, index) => (\n                  <div\n                    key={index}\n                    className={`flex-shrink-0 flex items-center justify-center p-2 rounded-lg transition-all duration-300 ${\n                      index === activeLogo ? 'scale-110 bg-white shadow-lg' : 'scale-100 bg-white/90'\n                    }`}\n                  >\n                    <img\n                      src={logo.src}\n                      alt={logo.alt}\n                      className=\"w-12 h-12 md:w-16 md:h-16 object-contain\"\n                      onError={(e) => {\n                        console.error(`Failed to load logo: ${logo.src}`);\n                        e.target.src = `https://via.placeholder.com/64?text=${logo.alt}`;\n                      }}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Main Content */}\n        <main className=\"relative z-30 pt-48 pb-20 px-4 md:px-8\">\n          <section className=\"w-full py-8 px-4 md:px-8 max-w-4xl mx-auto mb-12\">\n            <div className=\"bg-glass rounded-xl p-6 md:p-8 shadow-lg relative overflow-hidden\">\n              <div className=\"relative\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-6 text-gray-900 border-b border-gray-300 pb-2\">\n                  Digital Social Security Number (DSSN)\n                </h2>\n                <div className=\"text-gray-900 space-y-4\">\n                  <p>\n                    In the Digital Liberia project, the DSSN (Digital Social Security Number) is a unique digital identifier assigned to every Liberian citizen or legal resident within the system.\n                  </p>\n                  <Link\n                    to=\"/dssn\"\n                    className=\"inline-flex items-center bg-blue-500/80 backdrop-blur-sm rounded-lg px-3 py-1 ml-2 border border-blue-400/30 cursor-pointer hover:bg-blue-600/80 transition-colors\"\n                  >\n                    (click here to verify a DSSN)\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </section>\n\n          <section className=\"w-full py-8 px-4 md:px-8 max-w-4xl mx-auto mb-12\">\n            <div className=\"bg-glass rounded-xl p-6 md:p-8 shadow-lg relative overflow-hidden\">\n              <div className=\"relative\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-6 text-gray-900 border-b border-gray-300 pb-2\">\n                  Digital Liberia System\n                </h2>\n                <div className=\"text-gray-900\">\n                  <p>\n                    The National Database Management System (NDMS) is the secure, centralized, and intelligent national data backbone that powers Digital Liberia.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </section>\n\n          <section className=\"w-full py-8 px-4 md:px-8 max-w-4xl mx-auto mb-12\">\n            <div className=\"bg-glass rounded-xl p-6 md:p-8 shadow-lg relative overflow-hidden\">\n              <div className=\"relative\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-6 text-gray-900 border-b border-gray-300 pb-2\">\n                  Government Ministries\n                </h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {ministries.map((ministry) => (\n                    <div\n                      key={ministry.id}\n                      onClick={(e) => handleMinistryClick(ministry.id, e)}\n                      className=\"cursor-pointer bg-white/5 hover:bg-white/10 transition-colors p-4 rounded-lg border border-gray-200 backdrop-blur-sm relative z-20\"\n                    >\n                      <div className=\"flex items-center space-x-4\">\n                        <img\n                          src={ministry.icon}\n                          alt={ministry.name}\n                          className=\"w-12 h-12 object-contain\"\n                          onError={(e) => {\n                            console.error(`Failed to load icon: ${ministry.icon}`);\n                            e.target.src = `https://via.placeholder.com/48?text=${ministry.name}`;\n                          }}\n                        />\n                        <div>\n                          <h3 className=\"font-bold text-lg text-gray-900\">{ministry.name}</h3>\n                          <p className=\"text-sm text-gray-700\">{ministry.description}</p>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </section>\n\n          <section className=\"w-full py-8 px-4 md:px-8 max-w-4xl mx-auto mb-12\">\n            <div className=\"bg-glass rounded-xl p-6 md:p-8 shadow-lg relative overflow-hidden\">\n              <div className=\"relative\">\n                <h2 className=\"text-2xl md:text-3xl font-bold mb-6 text-gray-900 border-b border-gray-300 pb-2\">\n                  Quick Access Services\n                </h2>\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {quickAccessServices.map((service) => (\n                    <button\n                      key={service.id}\n                      onClick={(e) => handleServiceClick(service.id, e)}\n                      className=\"bg-white/5 hover:bg-white/10 transition-colors p-4 rounded-lg border border-gray-200 backdrop-blur-sm text-left\"\n                    >\n                      <h3 className=\"font-bold text-lg text-gray-900\">{service.name}</h3>\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </section>\n        </main>\n\n        {/* Footer */}\n        <footer className=\"relative z-30 py-6 text-center text-gray-600 text-sm\">\n          <div className=\"border-t border-gray-300 pt-6\">\n            © {new Date().getFullYear()} Digital Liberia. All rights reserved.\n          </div>\n        </footer>\n\n        {/* Login Modal */}\n        {showMoeLogin && (\n          <div className=\"fixed inset-0 z-50\">\n            <MoeLoginModal onClose={() => setShowMoeLogin(false)} />\n          </div>\n        )}\n\n        {/* Logout Button for Authenticated Users */}\n        {user && (\n          <div className=\"fixed top-4 right-4 z-50\">\n            <button\n              onClick={handleLogout}\n              className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors\"\n            >\n              Logout\n            </button>\n          </div>\n        )}\n      </div>\n    </ErrorBoundary>\n  );\n};\n\nexport default System;\n"],"names":["ErrorBoundary","Component","state","error","getDerivedStateFromError","console","stack","render","jsxs","jsx","message","window","location","reload","props","children","navLinks","label","to","color","logos","src","alt","ministries","id","name","description","icon","quickAccessServices","MoeLoginModal","onClose","login","useAuth","navigate","useNavigate","formData","setFormData","useState","username","password","errors","setErrors","setError","loading","setLoading","handleChange","e","value","target","prev","validateInputs","newErrors","valid","trim","preventDefault","result","success","setShowMoeLogin","err","Fragment","alert","System","user","logout","useLocation","activeLogo","setActiveLogo","showMoeLogin","useEffect","log","isAuthenticated","pathname","interval","setInterval","length","clearInterval","isLoggedIn","localStorage","getItem","securityLevel","defaultRoute","getDefaultRouteForLevel","replace","removeItem","handleMinistryClick","ministryId","stopPropagation","handleLoginSuccess","find","m","handleServiceClick","serviceId","handleLogout","map","logo","index","link","Link","ministry","service","Date","getFullYear"],"mappings":"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"}