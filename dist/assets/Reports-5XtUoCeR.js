import{b as m,u as g,S as u,r as i,h as p,c as e,j as a}from"./index-D8mQCDc4.js";const v=()=>{const r=m(),{user:s}=g(),c=u.SCHOOL_ADMIN,[o,n]=i.useState([]),[d,l]=i.useState(!0);return i.useEffect(()=>{!s||!p(c,s==null?void 0:s.securityLevel)?(alert("Access denied. Requires SCHOOL ADMIN privileges."),r("/system",{replace:!0})):(l(!0),api.get("/reports").then(t=>{n(t.data),l(!1)}).catch(t=>{console.error("Error fetching reports:",t),alert("Failed to load reports."),l(!1)}))},[s,r]),d?e("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e("div",{className:"w-4/5 bg-gray-200 rounded-full h-2",children:e("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"50%"}})})}):e("div",{className:"min-h-screen bg-white p-4",children:a("div",{className:"max-w-4xl mx-auto",children:[a("div",{className:"bg-white shadow-md p-4 flex items-center justify-between",children:[e("button",{onClick:()=>r("/moe/dashboard"),className:"text-gray-800 hover:text-gray-600",children:e("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e("h1",{className:"text-xl font-bold text-gray-800",children:"Reports"}),e("div",{className:"w-6"})]}),e("div",{className:"mt-4 space-y-4",children:o.length===0?e("p",{className:"text-gray-500 text-center",children:"No reports available."}):o.map(t=>a("div",{className:"bg-white rounded-lg shadow-md p-4 flex items-center",children:[e("img",{src:t.icon||"/logos/report.png",alt:t.title,className:"w-12 h-12 mr-4 object-contain",onError:h=>{console.error("Failed to load report icon"),h.target.src="https://via.placeholder.com/48?text=Report"}}),a("div",{children:[e("h2",{className:"text-base font-bold text-gray-800",children:t.title}),e("p",{className:"text-sm text-gray-600",children:t.lastUpdated})]})]},t.id))})]})})};export{v as default};
