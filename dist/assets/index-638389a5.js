var M=Object.defineProperty;var k=(o,l,t)=>l in o?M(o,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[l]=t;var y=(o,l,t)=>(k(o,typeof l!="symbol"?l+"":l,t),t);import{j as d,a as e,u as C,A as V}from"./auth-027225d4.js";import{a as j,u as A,r as f,L as E,N,b as T,c as n,d as B,B as O}from"./react-2658b102.js";import{a as F,C as U}from"./mui-cb74fc87.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))m(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&m(p)}).observe(document,{childList:!0,subtree:!0});function t(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(c){if(c.ep)return;c.ep=!0;const r=t(c);fetch(c.href,r)}})();var I,S=j;I=S.createRoot,S.hydrateRoot;const $="modulepreload",z=function(o){return"/"+o},P={},i=function(l,t,m){if(!t||t.length===0)return l();const c=document.getElementsByTagName("link");return Promise.all(t.map(r=>{if(r=z(r),r in P)return;P[r]=!0;const p=r.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(!!m)for(let b=c.length-1;b>=0;b--){const _=c[b];if(_.href===r&&(!p||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${h}`))return;const u=document.createElement("link");if(u.rel=p?"stylesheet":$,p||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),p)return new Promise((b,_)=>{u.addEventListener("load",b),u.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>l()).catch(r=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=r,window.dispatchEvent(p),!p.defaultPrevented)throw r})},x=()=>d("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),e("p",{className:"text-blue-100",children:"Authenticating..."})]}),H=()=>{const o=A(),[l,t]=f.useState(0),[m,c]=f.useState(!1),r=["/logos/liberianpost.png","/logos/digital.png","/logos/libmusic.png","/logos/libconnectsit.png","/logos/libpaysit.png","/logos/seal_of_liberia.png","/logos/liberia.png"],p=[{label:"Home",to:"/",color:"bg-blue-500/80"},{label:"System",to:"/system",color:"bg-green-500/80"},{label:"Digital Liberia",to:"/digital-liberia",color:"bg-purple-500/80"},{label:"LibPay",to:"/libpay",color:"bg-yellow-500/80"},{label:"Liberian Post",to:"/liberian-post",color:"bg-pink-500/80"}];return f.useEffect(()=>{(async()=>{const u=r.map(b=>new Promise((_,Se)=>{const v=new Image;v.src=b,v.onload=_,v.onerror=()=>{console.error(`Failed to load logo: ${b}`),_()}}));await Promise.all(u),c(!0)})();const L=setInterval(()=>{t(u=>(u+1)%r.length)},3e3);return()=>clearInterval(L)},[]),m?d("div",{className:"relative min-h-screen w-full bg-blue-950 text-white font-inter overflow-x-hidden",children:[e("header",{className:"fixed top-0 left-0 w-full z-50 bg-blue-950/80 backdrop-blur-md border-b border-blue-700/30",children:e("div",{className:"flex flex-col items-center",children:e("nav",{className:"flex space-x-2 md:space-x-4 p-4 overflow-x-auto w-full justify-center",children:p.map(h=>e(E,{to:h.to,className:`flex-shrink-0 px-4 py-2 rounded-lg transition-colors ${h.color} ${o.pathname===h.to?"ring-2 ring-white shadow-lg":"hover:opacity-90"}`,children:e("span",{className:"font-bold text-white",children:h.label})},h.to))})})}),e("main",{className:"pt-24 pb-12 px-4",children:d("div",{className:"max-w-6xl mx-auto",children:[d("section",{className:"text-center py-12",children:[e("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Welcome to Digital Liberia"}),e("p",{className:"text-xl max-w-3xl mx-auto",children:"Transforming Liberia through digital innovation and connectivity"})]}),e("div",{className:"my-12",children:e("div",{className:"flex justify-center",children:e("img",{src:r[l],alt:"Digital Liberia Partner Logo",className:"h-32 object-contain",onError:h=>{h.target.src="/placeholder-logo.png"}})})}),d("section",{className:"my-12 bg-blue-900/20 p-8 rounded-xl backdrop-blur-sm",children:[e("h2",{className:"text-2xl font-bold mb-4",children:"Our Ecosystem"}),d("div",{className:"grid md:grid-cols-2 gap-8",children:[d("div",{className:"bg-white/5 p-6 rounded-lg",children:[e("h3",{className:"text-xl font-semibold mb-3",children:"National Database"}),e("p",{children:"Secure, centralized data management for all government services"}),e(E,{to:"/system",className:"inline-block mt-4 px-4 py-2 bg-blue-600 rounded hover:bg-blue-700",children:"Learn More"})]}),d("div",{className:"bg-white/5 p-6 rounded-lg",children:[e("h3",{className:"text-xl font-semibold mb-3",children:"LibPay"}),e("p",{children:"Liberia's premier digital payment solution"}),e(E,{to:"/libpay",className:"inline-block mt-4 px-4 py-2 bg-yellow-600 rounded hover:bg-yellow-700",children:"Discover LibPay"})]})]})]})]})}),e("footer",{className:"py-6 text-center text-white/70 border-t border-blue-800",children:e("div",{className:"container mx-auto px-4",children:d("p",{children:["© ",new Date().getFullYear()," Digital Liberia. All rights reserved."]})})})]}):e(x,{})},W=()=>e("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),q=({children:o})=>{const{user:l,loading:t}=C(),m=A();return t?e("div",{className:"flex items-center justify-center min-h-screen",children:e(W,{})}):l?o:e(N,{to:"/system",state:{from:m},replace:!0})};function s(o,l){return T.lazy(()=>o().then(t=>!t||!("default"in t)?(console.error(`⚠️ Module "${l}" loaded but has NO default export.`,t),{default:()=>d("div",{style:{padding:16},children:['Module "',e("strong",{children:l}),'" is missing a ',e("code",{children:"default export"}),"."]})}):t).catch(t=>(console.error(`❌ Failed to load "${l}"`,t),{default:()=>d("div",{style:{padding:16},children:['Error loading "',e("strong",{children:l}),'". Check console for details.']})})))}const J=s(()=>i(()=>import("./System-ba8919e5.js"),["assets/System-ba8919e5.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"System (@components/System)"),Y=s(()=>i(()=>import("./Dssn-5ccd0e00.js"),["assets/Dssn-5ccd0e00.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"Dssn (./Dssn)"),G=s(()=>i(()=>import("./Libpay-139173e2.js"),["assets/Libpay-139173e2.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"Libpay (./Libpay)"),K=s(()=>i(()=>import("./Digitalliberia-d79b840c.js"),["assets/Digitalliberia-d79b840c.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"Digitalliberia (./Digitalliberia)"),Q=s(()=>i(()=>import("./MoeDashboard-d4854c2e.js"),["assets/MoeDashboard-d4854c2e.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"MoeDashboard (@components/MoeDashboard)"),X=s(()=>i(()=>import("./StudentProfile-64d378db.js"),["assets/StudentProfile-64d378db.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"StudentProfile (@components/StudentProfile)"),Z=s(()=>i(()=>import("./SystemSettings-402cad06.js"),["assets/SystemSettings-402cad06.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"SystemSettings (@components/SystemSettings)"),ee=s(()=>i(()=>import("./StudentRegistration-fe03a5ce.js"),["assets/StudentRegistration-fe03a5ce.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"StudentRegistration (@components/StudentRegistration)"),w=s(()=>i(()=>import("./StudentReports-ebc9231c.js"),["assets/StudentReports-ebc9231c.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"StudentReports (@components/StudentReports)"),te=s(()=>i(()=>import("./ClassManagement-37261d9b.js"),["assets/ClassManagement-37261d9b.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"ClassManagement (@components/ClassManagement)"),ne=s(()=>i(()=>import("./StudentRecords-caee4b18.js"),["assets/StudentRecords-caee4b18.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"StudentRecords (@components/StudentRecords)"),oe=s(()=>i(()=>import("./SchoolManagement-d86a90d2.js"),["assets/SchoolManagement-d86a90d2.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"SchoolManagement (@components/SchoolManagement)"),re=s(()=>i(()=>import("./TeacherManagement-b894ec15.js"),["assets/TeacherManagement-b894ec15.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"TeacherManagement (@components/TeacherManagement)"),ae=s(()=>i(()=>import("./DistrictReports-4cadeca9.js"),["assets/DistrictReports-4cadeca9.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"DistrictReports (@components/DistrictReports)"),ie=s(()=>i(()=>import("./DistrictOverview-58815751.js"),["assets/DistrictOverview-58815751.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"DistrictOverview (@components/DistrictOverview)"),se=s(()=>i(()=>import("./DatabaseTools-56c5024e.js"),["assets/DatabaseTools-56c5024e.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"DatabaseTools (@components/DatabaseTools)"),le=s(()=>i(()=>import("./UserManagement-ef19ae02.js"),["assets/UserManagement-ef19ae02.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"UserManagement (@components/UserManagement)"),ce=s(()=>i(()=>import("./AddParent-00bae415.js"),["assets/AddParent-00bae415.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"AddParent (@components/AddParent)"),de=s(()=>i(()=>import("./AnnouncementManagement-22aece23.js"),["assets/AnnouncementManagement-22aece23.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"AnnouncementManagement (@components/AnnouncementManagement)"),me=s(()=>i(()=>import("./ComplianceReports-36124609.js"),["assets/ComplianceReports-36124609.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"ComplianceReports (@components/ComplianceReports)"),pe=s(()=>i(()=>import("./MinistryEmployeeManagement-68c65b7a.js"),["assets/MinistryEmployeeManagement-68c65b7a.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"MinistryEmployeeManagement (@components/MinistryEmployeeManagement)"),he=s(()=>i(()=>import("./ParentDetails-36d75bda.js"),["assets/ParentDetails-36d75bda.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"ParentDetails (@components/ParentDetails)"),ue=s(()=>i(()=>import("./ParentManagement-af69fa1d.js"),["assets/ParentManagement-af69fa1d.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"ParentManagement (@components/ParentManagement)"),ge=s(()=>i(()=>import("./Reports-501a20bd.js"),["assets/Reports-501a20bd.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"Reports (@components/Reports)"),be=s(()=>i(()=>import("./SchoolAdminManagement-a4e55e99.js"),["assets/SchoolAdminManagement-a4e55e99.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"SchoolAdminManagement (@components/SchoolAdminManagement)"),_e=s(()=>i(()=>import("./SchoolReports-ff2eeff8.js"),["assets/SchoolReports-ff2eeff8.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"SchoolReports (@components/SchoolReports)"),fe=s(()=>i(()=>import("./TeacherReports-667f367d.js"),["assets/TeacherReports-667f367d.js","assets/auth-027225d4.js","assets/mui-cb74fc87.js","assets/react-2658b102.js"]),"TeacherReports (@components/TeacherReports)"),a=({children:o})=>e(q,{children:e(f.Suspense,{fallback:e(x,{}),children:o})}),g=({children:o})=>e(f.Suspense,{fallback:e(x,{}),children:o}),ve=()=>d(B,{children:[e(n,{path:"/",element:e(H,{})}),e(n,{path:"/system",element:e(g,{children:e(J,{})})}),e(n,{path:"/dssn",element:e(g,{children:e(Y,{})})}),e(n,{path:"/libpay",element:e(g,{children:e(G,{})})}),e(n,{path:"/digital-liberia",element:e(g,{children:e(K,{})})}),e(n,{path:"/liberian-post",element:e("div",{children:"LiberianPost component placeholder"})}),e(n,{path:"/moe/dashboard",element:e(a,{children:e(Q,{})})}),e(n,{path:"/moe/student-profile/:studentId",element:e(a,{children:e(X,{})})}),e(n,{path:"/moe/system-settings",element:e(a,{children:e(Z,{})})}),e(n,{path:"/app-settings",element:e(a,{children:e("div",{children:"AppSettings component placeholder"})})}),e(n,{path:"/backup-settings",element:e(a,{children:e("div",{children:"BackupSettings component placeholder"})})}),e(n,{path:"/moe/student-registration",element:e(a,{children:e(ee,{})})}),e(n,{path:"/moe/student-reports",element:e(a,{children:e(w,{})})}),e(n,{path:"/moe/class-management",element:e(a,{children:e(te,{})})}),e(n,{path:"/moe/add-class",element:e(a,{children:e("div",{children:"AddClass component placeholder"})})}),e(n,{path:"/moe/student-records",element:e(a,{children:e(ne,{})})}),e(n,{path:"/moe/school-management",element:e(a,{children:e(oe,{})})}),e(n,{path:"/moe/teacher-management",element:e(a,{children:e(re,{})})}),e(n,{path:"/moe/teacher-details/:teacherId",element:e(a,{children:e("div",{children:"TeacherDetails component placeholder"})})}),d(n,{path:"/moe/district-reports",element:e(a,{children:e(ae,{})}),children:[e(n,{path:"overview",element:e(g,{children:e(ie,{})})}),e(n,{path:"school-reports",element:e(g,{children:e(_e,{})})}),e(n,{path:"student-reports",element:e(g,{children:e(w,{})})}),e(n,{path:"teacher-reports",element:e(g,{children:e(fe,{})})}),e(n,{path:"compliance-reports",element:e(g,{children:e(me,{})})})]}),e(n,{path:"/moe/database-tools",element:e(a,{children:e(se,{})})}),e(n,{path:"/moe/ministry-employee-management",element:e(a,{children:e(pe,{})})}),e(n,{path:"/moe/school-admin-management",element:e(a,{children:e(be,{})})}),e(n,{path:"/moe/user-management",element:e(a,{children:e(le,{})})}),e(n,{path:"/moe/add-user",element:e(a,{children:e("div",{children:"AddUser component placeholder"})})}),e(n,{path:"/moe/user-details/:userId",element:e(a,{children:e("div",{children:"UserDetails component placeholder"})})}),e(n,{path:"/moe/add-parent",element:e(a,{children:e(ce,{})})}),e(n,{path:"/moe/parent-details/:parentId",element:e(a,{children:e(he,{})})}),e(n,{path:"/moe/parent-management",element:e(a,{children:e(ue,{})})}),e(n,{path:"/moe/reports",element:e(a,{children:e(ge,{})})}),e(n,{path:"/moe/announcement-management",element:e(a,{children:e(de,{})})}),e(n,{path:"/moe/add-announcement",element:e(a,{children:e("div",{children:"AddAnnouncement component placeholder"})})}),e(n,{path:"/moe/announcement-details",element:e(a,{children:e("div",{children:"AnnouncementDetails component placeholder"})})}),e(n,{path:"/moe/student-management",element:e(a,{children:e("div",{children:"StudentManagement component placeholder"})})}),e(n,{path:"*",element:e(N,{to:"/",replace:!0})})]});class ye extends f.Component{constructor(){super(...arguments);y(this,"state",{error:null,errorInfo:null,errorCount:0,lastErrorTime:null});y(this,"handleReset",()=>{console.log("ErrorBoundary reset triggered"),this.setState({error:null,errorInfo:null,errorCount:0})})}static getDerivedStateFromError(t){const m={message:t.message,name:t.name,stack:t.stack,time:new Date().toISOString()};return console.group("APP ERROR BOUNDARY CAUGHT"),console.error("Error:",t),console.log("Error Details:",m),console.groupEnd(),{error:t,errorCount:1,lastErrorTime:new Date().toISOString()}}componentDidCatch(t,m){console.group("COMPONENT ERROR DETAILS"),console.error("Error:",t),console.log("Component Stack:",m.componentStack),console.log("Current State:",this.state),console.groupEnd();const c=new Date,r=this.state.lastErrorTime?new Date(this.state.lastErrorTime):null;(r?(c-r)/1e3:1/0)>5&&this.setState(h=>({errorInfo:m,errorCount:h.errorCount+1,lastErrorTime:c.toISOString()})),window.trackJs&&window.trackJs.track(t)}renderFallback(){const{error:t,errorInfo:m}=this.state;return e("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:d("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-2xl w-full",children:[e("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:(t==null?void 0:t.name)||"Application Error"}),d("div",{className:"mb-4 space-y-4",children:[d("div",{children:[e("h2",{className:"font-semibold mb-1",children:"Error Message:"}),e("div",{className:"bg-gray-100 p-3 rounded font-mono text-sm",children:(t==null?void 0:t.message)||"No error message available"})]}),(t==null?void 0:t.stack)&&d("div",{children:[e("h2",{className:"font-semibold mb-1",children:"Stack Trace:"}),e("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:t.stack})]}),(m==null?void 0:m.componentStack)&&d("div",{children:[e("h2",{className:"font-semibold mb-1",children:"Component Stack:"}),e("pre",{className:"text-xs bg-gray-100 p-3 rounded overflow-x-auto",children:m.componentStack})]})]}),d("div",{className:"flex gap-4 mt-6",children:[e("button",{onClick:this.handleReset,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Try Again"}),e("button",{onClick:()=>{console.log("Full page reload initiated"),window.location.reload()},className:"flex-1 py-3 px-4 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Reload Page"})]})]})})}render(){return this.state.error?this.renderFallback():this.props.children}}const Ee=({children:o})=>(console.log("[Debug] AuthProvider mounting"),e(V,{children:o})),xe=({children:o})=>(console.log("[Debug] Router mounting"),e(O,{children:o})),Re=()=>(console.group("App Component"),console.log("App mounting"),console.log("Current environment:","production"),console.groupEnd(),e(ye,{children:e(xe,{children:e(Ee,{children:e(ve,{})})})}));const R=document.createElement("link");R.href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css";R.rel="stylesheet";document.head.appendChild(R);const De=F({key:"css",prepend:!0,speedy:!1}),D=document.getElementById("root");if(!D){const o=document.createElement("div");throw o.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #fff;
    color: #dc2626;
    font-family: sans-serif;
    padding: 2rem;
    text-align: center;
    z-index: 9999;
  `,o.innerHTML=`
    <div>
      <h1 style="font-size: 1.5rem; margin-bottom: 1rem;">
        Critical Error: Root element not found
      </h1>
      <p>Please check your index.html file for an element with id="root"</p>
    </div>
  `,document.body.appendChild(o),new Error("Root element not found")}const Le=I(D);try{Le.render(e(T.StrictMode,{children:e(U,{value:De,children:e(O,{children:e(Re,{})})})}))}catch(o){console.error("Root render failed:",o),D.innerHTML=`
    <div style="padding: 2rem; text-align: center; color: #dc2626;">
      <h1 style="font-size: 1.5rem; margin-bottom: 1rem;">
        Application Failed to Load
      </h1>
      <p style="margin-bottom: 1rem;">${o.message}</p>
      <button 
        onclick="window.location.reload()" 
        style="padding: 0.5rem 1rem; background: #2563eb; color: white; border: none; border-radius: 0.25rem;"
      >
        Try Again
      </button>
    </div>
  `}
//# sourceMappingURL=index-638389a5.js.map
