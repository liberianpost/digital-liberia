import{u as i,b as l,S as c,r as d,h as o,j as r,c as a}from"./index-DT9BFkEP.js";const x=()=>{const{user:e}=i(),t=l(),s=c.DATABASE_ADMIN;return d.useEffect(()=>{(!e||!o(s,e==null?void 0:e.securityLevel))&&(alert("Access denied. Requires DATABASE ADMIN privileges."),t(-1))},[e,t]),r("div",{className:"min-h-screen bg-white",children:[a("div",{className:"bg-white text-black p-4 shadow-md border-b border-gray-200",children:a("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:r("div",{className:"flex items-center",children:[a("button",{onClick:()=>t(-1),className:"mr-4 text-black","aria-label":"Go back",children:a("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),a("h1",{className:"text-xl font-bold",children:"Database Tools"})]})})}),r("div",{className:"overflow-y-auto h-[calc(100vh-4rem)] p-4 max-w-3xl mx-auto",children:[a("div",{onClick:()=>{o(s,e==null?void 0:e.securityLevel)&&t("/moe/ministry-employee-management")},className:"bg-white rounded-lg shadow-md mb-4 border border-gray-300 cursor-pointer hover:shadow-lg transition-shadow",children:r("div",{className:"p-4 text-center",children:[a("img",{src:"/logos/moe.png",alt:"Ministry of Education icon",className:"w-12 h-12 mx-auto object-contain"}),a("h2",{className:"mt-2 text-lg font-bold text-black",children:"Ministry of Education Management"}),a("p",{className:"mt-2 text-gray-600 text-sm",children:"Manage all ministry employees, add, delete, remove and suspend staff"})]})}),a("div",{onClick:()=>{o(s,e==null?void 0:e.securityLevel)&&t("/moe/school-admin-management")},className:"bg-white rounded-lg shadow-md mb-4 border border-gray-300 cursor-pointer hover:shadow-lg transition-shadow",children:r("div",{className:"p-4 text-center",children:[a("img",{src:"/logos/school.png",alt:"School Administrators icon",className:"w-12 h-12 mx-auto object-contain"}),a("h2",{className:"mt-2 text-lg font-bold text-black",children:"School Administrators Management"}),a("p",{className:"mt-2 text-gray-600 text-sm",children:"Manage school administrators by county, district and city"})]})}),a("h3",{className:"mt-6 text-base font-bold text-black",children:"Database Tools"}),a("button",{onClick:async()=>{if(o(s,e==null?void 0:e.securityLevel))try{await api.post("/database/backup"),alert("Database backup initiated successfully.")}catch(n){console.error("Error initiating backup:",n),alert("Failed to initiate database backup.")}},className:"w-full mt-4 py-3 px-4 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50 transition-colors text-center",children:"Backup Database"}),a("button",{onClick:async()=>{if(o(s,e==null?void 0:e.securityLevel))try{await api.post("/database/restore"),alert("Database restore initiated successfully.")}catch(n){console.error("Error initiating restore:",n),alert("Failed to initiate database restore.")}},className:"w-full mt-2 py-3 px-4 border border-blue-600 text-blue-600 rounded-md hover:bg-blue-50 transition-colors text-center",children:"Restore Database"})]})]})};export{x as default};
