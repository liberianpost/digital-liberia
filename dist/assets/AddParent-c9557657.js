import{b as u,u as g,S as p,r as i,i as b,c as r,j as e,k as x}from"./index-31cf902e.js";const w=()=>{const l=u(),{user:t}=g(),d=p.SCHOOL_ADMIN,[a,c]=i.useState({name:"",phone:"",email:"",address:"",relationship:"",children:[]});i.useEffect(()=>{(!t||!b(d,t==null?void 0:t.securityLevel))&&(alert("Access denied. Requires SCHOOL ADMIN privileges."),l(-1))},[t,l]);const n=s=>{const{name:o,value:m}=s.target;c(h=>({...h,[o]:m}))};return r("div",{className:"min-h-screen bg-gray-50",children:[e("div",{className:"bg-white text-black p-4 shadow-md border-b border-gray-200",children:e("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:r("div",{className:"flex items-center",children:[e("button",{onClick:()=>l(-1),className:"mr-4 text-black","aria-label":"Go back",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e("h1",{className:"text-xl font-bold",children:"Add Parent"})]})})}),e("form",{onSubmit:async s=>{s.preventDefault();try{await x.post("/parents",a),console.log("Parent data submitted:",a),l(-1)}catch(o){console.error("Error submitting parent data:",o),alert("Failed to save parent data. Please try again.")}},className:"p-4 max-w-3xl mx-auto",children:r("div",{className:"bg-white rounded-lg shadow-md p-4",children:[r("div",{className:"flex items-center mb-4",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e("h2",{className:"text-lg font-bold",children:"Parent Information"})]}),r("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r("div",{className:"mt-1 flex items-center border border-gray-300 rounded-md",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e("input",{type:"text",name:"name",value:a.name,onChange:n,required:!0,className:"flex-1 p-2 border-none rounded-md focus:ring-2 focus:ring-blue-600"})]})]}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),r("div",{className:"mt-1 flex items-center border border-gray-300 rounded-md",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e("input",{type:"tel",name:"phone",value:a.phone,onChange:n,required:!0,className:"flex-1 p-2 border-none rounded-md focus:ring-2 focus:ring-blue-600"})]})]}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r("div",{className:"mt-1 flex items-center border border-gray-300 rounded-md",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e("input",{type:"email",name:"email",value:a.email,onChange:n,className:"flex-1 p-2 border-none rounded-md focus:ring-2 focus:ring-blue-600"})]})]}),r("div",{children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Relationship"}),r("select",{name:"relationship",value:a.relationship,onChange:n,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-600",children:[e("option",{value:"",children:"Select Relationship"}),e("option",{value:"Mother",children:"Mother"}),e("option",{value:"Father",children:"Father"}),e("option",{value:"Guardian",children:"Guardian"}),e("option",{value:"Other",children:"Other"})]})]}),r("div",{className:"sm:col-span-2",children:[e("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),e("textarea",{name:"address",value:a.address,onChange:n,rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-2 focus:ring-blue-600"})]})]}),e("hr",{className:"my-4"}),e("h2",{className:"text-lg font-bold mb-2",children:"Children Information"}),e("p",{className:"text-sm text-gray-600 mb-4",children:"Select the children this parent is responsible for"}),e("div",{className:"bg-gray-100 rounded-md h-48 flex items-center justify-center",children:e("p",{className:"text-gray-500",children:"Children selection component would appear here"})}),e("div",{className:"mt-4 flex justify-end",children:r("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save Parent"]})})]})})]})};export{w as default};
